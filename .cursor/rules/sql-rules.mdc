---
description: Rules to follow when interacting with SQL databases
globs: 
alwaysApply: false
---
# Database & SQL Best Practices
- Maintain Migration Scripts: Write migration scripts for every schema change to ensure version control and reproducibility.
- Use Parameterized Queries: Prevent SQL injection by always employing parameterized queries.
- Optimize Indexes and Queries: Analyze query patterns to optimize indexes and avoid issues like N+1 queries.
- Ensure Proper Transaction Management: Use transactions to guarantee data integrity, with clear handling for commit or rollback.
- Implement Connection Pooling: Efficiently manage database connections through pooling to reduce latency and overhead.
- Document Complex Queries: Add comments that explain the purpose and logic behind non-obvious queries.
- Utilize Database-Specific Features: Leverage advanced features (e.g., JSON fields, array types in PostgreSQL) when they improve data modeling or performance.
- Monitor Query Performance: Regularly assess query performance in production to anticipate and mitigate load-related issues.
- Refactor as Needed: Continuously review and refactor queries and indexes to adapt to evolving data volumes and patterns.
